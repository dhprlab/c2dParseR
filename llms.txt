# c2dParseR

> \[!warning\] üöß *This is work in progress, please tread with care.* üöß

An R package to work with the `.c2d` file format from Cyclus2
ergometers.

![badge-experimental](reference/figures/lifecycle-experimental.svg)

The goal of c2dParseR is to provide tools for working with `.c2d` files
generated by [Cyclus2 cycling ergometers](https://www.cyclus2.com/en/)
by RBM elektronik-automation GmbH. Technically, `.c2d` files are ‚Äújust‚Äù
zipped XML text files with custom content.

## Motivation

Working with Cyclus2 data in their native `.c2d` file format has many
advantages over derived, exported formats:

- Access everything: Only `.c2d` files contain all data.
  - The `.c2d` files include all information, e.g., bike settings are
    impossible to export.
  - Depending on the export settings, exported files may lack data of
    (later) interest, or may lack numerical precision.
- Simpler procedure: No need to save the same data twice, as export for
  analysis and as `.c2d` for archiving.
- Interoperability: Even in a single lab, agreeing on an export format
  would take time and effort, and any change may make previously
  exported data incompatible. In contrast, `.c2d` files remain the same,
  even across labs, and thus analysis scripts remain compatible.

## Installation

You can install the development version of c2dParseR from
[GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("dhprlab/c2dParseR")
```

## Example

To import the row data from an xml (unpacked c2d) file:

``` r
library(c2dParseR)
# data <- c2dimport("path/to/your/example.xml")
```

## Roadmap

- Implement basic import of all useful `.c2d` information into R data
  structures.
- Prepare for installation from GitLab/GitHub as initial distribution
  channels.
- Implement data validation and error handling.
- Prepare for installation from CRAN.
- Figure out if measurement units should be added to R data structures.
- Figure out export into BIDS format; maybe using an existing package?
- Add example data sets for which consent into ‚Äúunlimited‚Äù data use is
  clarified.
- Write tests against the example data sets.

## Example data

We plan to include example data into this project. Please DO NOT include
data, unless you have explicit consent from the data owner.

## Contributing

Any contribution is very welcome. The primary way to contribute is via
GitHub, at <https://github.com/dhprlab/c2dparseR>. Please open an issue
to report a bug or discuss a feature request.

This project follows the workflow recommendations from the book *R
Packages* by Hadley Wickham and Jennifer Bryan, <https://r-pkgs.org/>.

## Authors

- Johannes Keyser, <johannes.keyser@uni-hamburg.de>

## Licensing

This project is licensed under the European Union Public License
(EUPL-1.2). See full license text in English at
[LICENSE.txt](https://dhprlab.github.io/c2dParseR/LICENSE.txt); for
other languages, see
<https://interoperable-europe.ec.europa.eu/collection/eupl/eupl-text-eupl-12>.

Note: Dual-licensing for code and example data was considered, but
deemed impractical due to CRAN‚Äôs restriction to use a single license.

# Package index

## All functions

- [`c2dimport()`](https://dhprlab.github.io/c2dParseR/reference/c2dimport.md)
  **\[experimental\]** : Import row data from an (unpacked) c2d file.

